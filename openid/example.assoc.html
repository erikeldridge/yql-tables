<script src="http://yui.yahooapis.com/3.0.0/build/yui/yui-min.js"></script>
<script>
    YUI( {
        modules: {
            'gallery-storage-lite': {
                fullpath: 'http://yui.yahooapis.com/gallery-2010.02.22-22/build/gallery-storage-lite/gallery-storage-lite-min.js',
                requires: ['event-base','event-custom','event-custom-complex','json'],
                optional: [],
                supersedes: []
          }

        }
    } ).use('io', 'gallery-storage-lite', function (Y) {
        var githubAcct ='erikeldridge',
            handleComplete = function (id, o, args) {
                //storage lite rocks! http://yuilibrary.com/gallery/show/storage-lite
                Y.StorageLite.on('storage-lite:ready', function () {Y.log( o.responseText );
                    Y.StorageLite.removeItem( 'openid-assoc' );
                    Y.StorageLite.setItem( 'openid-assoc', o.responseText );
                });
                var json = Y.StorageLite.getItem( 'openid-assoc', true);
                Y.log( json );
            },
            params = [
                'q='+encodeURIComponent('use "http://github.com/'+githubAcct+'/yql-tables/raw/master/openid/openid.assoc.xml" as table; '
                    + 'select * from table where '
                    + 'uri="https://open.login.yahooapis.com/openid/op/auth"'
                ),
                'callback=',
                'diagnostics=false',
                'format=json',
                'debug=true'
            ],
            uri = "http://query.yahooapis.com/v1/public/yql?"+params.join('&'),
            ioConfig = {
                method: 'GET',
                on: {
                    success: handleComplete
                },
                xdr: {
                    use: 'flash'
                }
            },
            xdrConfig = {
                id:'flash',
                yid: Y.id, 
                src:'../../../../io.swf'
            };
            
            Y.io.transport(xdrConfig);
            
            Y.on('io:xdrReady', function () {
                Y.io(uri, ioConfig);
            });
    });//http://query.yahooapis.com/v1/public/yql?q=use%20%22http%3A%2F%2Fgithub.com%2Ferikeldridge%2Fyql-tables%2Fraw%2Fmaster%2Fopenid%2Fopenid.assoc.xml%22%20as%20table%3B%20select%20*%20from%20table%20where%20uri%3D%22https%3A%2F%2Fopen.login.yahooapis.com%2Fopenid%2Fop%2Fauth%22%20and%20&callback=&diagnostics=false&format=json&debug=true
</script>