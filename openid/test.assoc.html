<script src="http://yui.yahooapis.com/3.0.0/build/yui/yui-min.js"></script>
<script>
    YUI( {
        modules: {
            'gallery-storage-lite': {
                fullpath: 'http://yui.yahooapis.com/gallery-2010.02.22-22/build/gallery-storage-lite/gallery-storage-lite-min.js',
                requires: ['event-base','event-custom','event-custom-complex','json'],
                optional: [],
                supersedes: []
          }

        }
    } ).use('io', 'gallery-storage-lite', function (Y) {
        var domain='example.com',
            handleComplete = function (id, o, args) {
                Y.StorageLite.on('storage-lite:ready', function () {
                    Y.StorageLite.setItem( 'openid-assoc', o.responseText );
                });
                Y.log(Y.StorageLite.getItem('openid-assoc', true));
            },
            uri = "http://query.yahooapis.com/v1/public/yql?q=use%20'http%3A%2F%2F"+domain+"%2Fyql%2Fopenid.assoc.xml%3Fq%3D15'%20as%20table%3B%20select%20*%20from%20table%20where%20uri%20%3D%20'https%3A%2F%2Fopen.login.yahooapis.com%2Fopenid%2Fop%2Fauth'&format=json&diagnostics=false&callback=",
            ioConfig = {
                method: 'GET',
                on: {
                    success: handleComplete
                },
                xdr: {
                    use: 'flash'
                }
            },
            xdrConfig = {
                id:'flash',
                yid: Y.id, 
                src:'../../../../io.swf'
            };
            
            Y.io.transport(xdrConfig);
            
            Y.on('io:xdrReady', function () {
                Y.io(uri, ioConfig);
            });
    });
</script>